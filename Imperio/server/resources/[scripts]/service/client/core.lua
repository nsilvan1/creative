-----------------------------------------------------------------------------------------------------------------------------------------
-- VRP
-----------------------------------------------------------------------------------------------------------------------------------------
local Tunnel = module("vrp", "lib/Tunnel")
-----------------------------------------------------------------------------------------------------------------------------------------
-- CONNECTION
-----------------------------------------------------------------------------------------------------------------------------------------
vSERVER = Tunnel.getInterface("service") -----------------------------------------------------------------------------------------------------------------------------------------
-- LIST
-----------------------------------------------------------------------------------------------------------------------------------------
local List = {
	{ vec3(377.27, -1605.83, 30.16),   "Lspd",         1.0 },
	{ vec3(1830.22, 3680.96, 34.4),    "Sheriff-1",    1.0 },
	{ vec3(-447.3, 6013.03, 32.43),    "Sheriff-2",    1.0 },
	{ vec3(1840.21, 2578.48, 46.08),   "Corrections",  1.0 },
	{ vec3(310.23, -597.54, 43.29),    "Paramedico-1", 1.0 },
	{ vec3(-254.77, 6331.03, 32.79),   "Paramedico-2", 1.5 },
	{ vec3(-1187.89, -904.92, 13.74),  "Burgershot",   1.0 }
}
-----------------------------------------------------------------------------------------------------------------------------------------
-- THREADSTART
-----------------------------------------------------------------------------------------------------------------------------------------
CreateThread(function()
	for Number = 1, #List do
		exports["target"]:AddCircleZone("Service:" .. List[Number][2], List[Number][1], 0.15, {
			name = "Service:" .. List[Number][2],
			heading = 0.0,
			useZ = true
		}, {
			shop = Number,
			Distance = List[Number][3],
			options = {
				{
					label = "Entrar em Servi√ßo",
					event = "service:Toggle",
					tunnel = "shop"
				}
			}
		})
	end
end)
-----------------------------------------------------------------------------------------------------------------------------------------
-- SERVICE:TOGGLE
-----------------------------------------------------------------------------------------------------------------------------------------
RegisterNetEvent("service:Toggle")
AddEventHandler("service:Toggle", function(Service)
	TriggerServerEvent("service:Toggle", List[Service][2])
end)
-----------------------------------------------------------------------------------------------------------------------------------------
-- SERVICE:LABEL
-----------------------------------------------------------------------------------------------------------------------------------------
RegisterNetEvent("service:Label")
AddEventHandler("service:Label", function(Service, Text)
	if Service == "Sheriff" then
		exports["target"]:LabelText("Service:Sheriff-1", Text)
		exports["target"]:LabelText("Service:Sheriff-2", Text)
	elseif Service == "Paramedico" then
		exports["target"]:LabelText("Service:Paramedico-1", Text)
		exports["target"]:LabelText("Service:Paramedico-2", Text)
	else
		exports["target"]:LabelText("Service:" .. Service, Text)
	end
end)
